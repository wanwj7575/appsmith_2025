SELECT tp.*, tpr.remarks reocrd_remarks , if (tp.project_endtime >= curdate(), "1", "2") as time_st FROM t_project tp
left join (select * from  (select  *  from  t_project_reord tpr  order by  create_time desc limit 1000)as b group by  project_id ) tpr  on  tp.id = tpr.project_id 
WHERE (tp.status = 1)
AND (tp.existence!=0)